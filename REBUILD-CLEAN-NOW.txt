โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐งน SCRIPT DE REBUILD LIMPO CRIADO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ ARQUIVOS ATUALIZADOS:
- rebuild-clean.sh: Script completo de limpeza e rebuild
- docker-compose.yml: Ollama removido definitivamente

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ COMO USAR (SEMPRE QUE FIZER REBUILD)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# 1. Fazer pull das mudanรงas
cd ~/poc_multiagent_lang
git pull origin main

# 2. Dar permissรฃo de execuรงรฃo
chmod +x rebuild-clean.sh

# 3. Executar o script
./rebuild-clean.sh

# O script faz TUDO automaticamente:
#   ๐ Para containers
#   ๐๏ธ  Remove Ollama (host + Docker)
#   ๐๏ธ  Limpa imagens antigas
#   ๐๏ธ  Limpa volumes รณrfรฃos
#   ๐๏ธ  Limpa cache de build
#   ๐๏ธ  Limpa logs do sistema
#   ๐จ Rebuild backend
#   ๐ Inicia serviรงos (SEM Ollama)
#   ๐ Mostra espaรงo liberado

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐พ ESPAรO QUE SERร LIBERADO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

- Ollama host: ~500MB
- Ollama models: ~4GB
- Ollama Docker: ~4GB
- Imagens antigas: 2-5GB
- Cache de build: 1-2GB
- Logs antigos: 100-500MB

TOTAL: 8-15GB liberados!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ง O QUE FOI MUDADO NO DOCKER-COMPOSE.YML
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

REMOVIDO:
  โ Service ollama
  โ Volume ollama_data
  โ Dependency do backend no ollama

MANTIDO:
  โ postgres
  โ backend
  โ frontend

Agora o Ollama NรO VAI MAIS SUBIR automaticamente!

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โก VANTAGENS DO SCRIPT
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Remove Ollama completamente (host + Docker)
โ Limpa tudo antes de rebuild
โ Economiza 8-15GB por rebuild
โ Evita acรบmulo de lixo
โ Mostra espaรงo antes/depois
โ Um รบnico comando faz tudo
โ Seguro (nรฃo remove dados importantes)

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ QUANDO USAR
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Use ./rebuild-clean.sh sempre que:
  - Fizer git pull com mudanรงas no cรณdigo
  - Precisar rebuild do backend
  - Estiver sem espaรงo em disco
  - Quiser limpar o ambiente

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฏ WORKFLOW RECOMENDADO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# Workflow normal (com mudanรงas no cรณdigo):
cd ~/poc_multiagent_lang
git pull origin main
./rebuild-clean.sh

# Workflow rรกpido (sem mudanรงas no cรณdigo):
cd ~/poc_multiagent_lang
docker compose restart backend

# Limpeza periรณdica (semanal):
cd ~/poc_multiagent_lang
./cleanup-server.sh

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ RESULTADO ESPERADO
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Apรณs executar ./rebuild-clean.sh:

1. Espaรงo em disco:
   ANTES: ~90% usado
   DEPOIS: ~70% usado (8-15GB liberados)

2. Serviรงos rodando:
   โ postgres
   โ backend (com Gemini)
   โ frontend
   โ ollama (removido)

3. Docker limpo:
   โ Sem imagens antigas
   โ Sem volumes รณrfรฃos
   โ Sem cache de build
   โ Sem containers parados

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ก DICAS
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. Execute ./rebuild-clean.sh em vez de comandos manuais
2. O script รฉ idempotente (pode executar vรกrias vezes)
3. Sempre mostra quanto espaรงo foi liberado
4. Logs sรฃo mantidos (รบltimos 3 dias)
5. Dados do postgres sรฃo preservados
