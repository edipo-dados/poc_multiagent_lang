โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ RECARREGAR .ENV COMPLETAMENTE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

O backend ainda estรก usando a API key antiga!

PROBLEMA: docker compose restart NรO recarrega o .env
SOLUรรO: Fazer down e up novamente

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ COMANDOS PARA EXECUTAR
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# 1. Parar todos os containers
docker compose down

# 2. Subir novamente (vai ler o .env atualizado)
docker compose up -d postgres backend frontend

# 3. Ver logs
docker compose logs -f backend

# Deve mostrar a NOVA API key nos logs
# (primeiros caracteres diferentes)

# Pressione Ctrl+C para sair

# 4. Testar API
curl -X POST http://localhost:8000/analyze \
  -H 'Content-Type: application/json' \
  -d '{"regulatory_text":"RESOLUรรO BCB Nยบ 789/2024","repo_path":"/app/fake_pix_repo"}'

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ VERIFICAR QUE NOVA API KEY FOI CARREGADA
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# Ver variรกveis de ambiente do container
docker compose exec backend env | grep GEMINI

# Deve mostrar a NOVA API key

# Ou ver logs de inicializaรงรฃo
docker compose logs backend | grep -i gemini

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ๏ธ  POR QUE RESTART NรO FUNCIONA?
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

docker compose restart:
  โ NรO recarrega .env
  โ Usa variรกveis de ambiente do momento do "up"
  โ Apenas reinicia o processo

docker compose down + up:
  โ Recarrega .env
  โ Recria containers com novas variรกveis
  โ Garante que mudanรงas sejam aplicadas

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ก REGRA IMPORTANTE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Sempre que mudar o .env:
  1. docker compose down
  2. docker compose up -d

NรO use apenas "restart" para mudanรงas no .env!
